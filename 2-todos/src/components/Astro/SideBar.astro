---
import { Button } from "../preact/Button";
import { Icon } from "../preact/icons/Icon";
import { DropDown } from "../preact/DropDown";

interface Props {
    class?: string;
}

const { pathname: currentPage } = Astro.url;
const { class: className } = Astro.props;
---

<nav
    class=`w-[20%] h-full bg-neutral-100/50 rounded-r-lg p-3 grid grid-cols-1 grid-rows-[38px_32px_7fr_1fr] ${className}`
>
    <div>
        <section class=`flex relative h-8 items-center justify-between`>
            <DropDown client:load class="m-0 p-0" />
            <Button
                class="flex *:content-center *:ml-1 h-7 w-7 absolute *:mr-0 *:px-0 right-8"
                icon="bell"
            />
        </section>
    </div>
    <Button
        class="cursor-pointer flex rounded items-center h-8 w-full text-sm text-rose-700 transition-all duration-300"
    >
        <div
            class="mx-2 w-5.5 h-5.5 rounded-full bg-rose-700 flex items-center justify-center text-sm ml-0"
        >
            <Icon name="plus" class="w-7 h-7 stroke-white" />
        </div>
        Add task
    </Button>
    <section class="my-2 h-[30%] *:h-8 *:px-2">
        <Button icon="search" class="w-full"> Search </Button>
        <Button page={currentPage} to="/dashboard/inbox" icon="inbox" class="">
            Inbox
        </Button>
        <Button
            page={currentPage}
            to="/dashboard/today"
            icon="calendar"
            class=""
        >
            Today
        </Button>
        <Button
            page={currentPage}
            to="/dashboard/upcoming"
            icon="sunrise"
            class=""
        >
            Upcoming
        </Button>
        <Button page={currentPage} to="/dashboard/filters" icon="grid" class="">
            Filters & labels
        </Button>
    </section>
</nav>

<section class="self-end">
    <Button icon="plus" to="/" class="">Logout</Button>
</section>
